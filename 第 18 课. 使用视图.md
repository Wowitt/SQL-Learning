### 18.1 视图

视图是虚拟的表，它是一种动态的封装。

#### 18.1.1 为什么使用视图

* 简化复杂的 *SQL* 操作
* 使用表的一部分而不是全部
* 权限控制，只授予用户访问表的特定部分的权限
* 在视图层使用与底层表格式不一样的数据

#### 18.1.2 视图的规则和限制

* 唯一限定名
* 视图可以嵌套
* 很多 *DBMS* 禁止在视图中使用 `ORDER BY`
* 有些 *DBMS* 要求对返回的所有列进行命名，如果列是计算字段，则需要使用别名
* 视图不能索引，也不能有关联的触发器或默认值
* 有些 *DBMS* 把视图视为只读的查询，因此在这种情况下无法将数据写回底层表

具体限制需要参阅 *DBMS* 文档。

### 18.2 创建视图

`CREATE VIEW view AS SELECT [col ...] \[WHERE condition]`

#### 18.2.1 利用视图简化复杂的联结

视图对应的 `SELECT` 查询中的过滤条件会被添加到视图的过滤条件中。

#### 18.2.2 用视图重新格式化检索出的数据

简化复杂的 *SQL* 的应用。

#### 18.2.3 用视图过滤不想要的数据

做一层底层表的封装。

#### 18.2.4 使用视图与计算字段

同样是简化复杂 *SQL* 的一种应用。